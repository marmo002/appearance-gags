<main>
  <section id="main-banner">
    <div class="container">
      <div class="row">
        <div class="col-md-10">
          <div class="jumbotron jumbotron-fluid p-0">
            <div class="container">
              <h1 class="display-4">Get a grip on <%= @show %> - <%= @type %>.</h1>
              <p class="lead">Fill out the form bellow and make sure you add all required fields</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section>
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-10">
          <%= form_with model: current_user do |user_info| %>
          <fieldset disabled>
            <div class="row">
              <div class="col-12">
                <h3>Profile info</h3>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <% if current_user.avatar.attached? %>
                <!-- <div class="col-md-4 pl-3 align-self-center"> -->
                  <%= image_tag current_user.avatar, class: "img-thumbnail" %>
                <!-- </div> -->
                <% end %>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                   <%= user_info.label :first_name %>
                   <%= user_info.text_field :first_name, class: "form-control", placeholder: "First name" %>
                </div>

                <div class="form-group">
                   <%= user_info.label :last_name %>
                   <%= user_info.text_field :last_name, class: "form-control", placeholder: "Last name" %>
                </div>

                <div class="form-group">
                   <%= user_info.label :email %>
                   <%= user_info.email_field :email, class: "form-control", placeholder: "E-mail" %>
                </div>

                <div class="form-group">
                   <%= user_info.label :phone %>
                   <%= user_info.telephone_field :phone, class: "form-control", placeholder: "Phone" %>
                </div>
                <div class="form-group">
                  <%= user_info.label :name_for_show %>
                  <%= user_info.text_field :name_for_show, id: "name_for_show", class: "form-control", placeholder: "Name on show" %>
                </div>

                <div class="form-group">
                  <%= user_info.label :title_for_show %>
                  <%= user_info.text_field :title_for_show, id: "title_for_show", class: "form-control", placeholder: "Title for show" %>
                </div>

                <div class="form-group">
                  <%= user_info.label :bio %>
                  <%= user_info.text_area :bio, id: "user_bio", class: "form-control", placeholder: "Your bio" %>
                </div>
              </div>
            </div>
          </fieldset>
          <% end %>

          <%= form_with model: @booking, local: true, url: create_booking_path,  html: { id: "booking-form" } do |booking| %>
            <div class="row">
              <div class="col-12">
                <h3>Add personal social media to show</h3>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <%= booking.fields_for :user_info do |user_i| %>
                  <%= user_i.fields_for :social_media do |social_media| %>
                    <% current_user.social_media.each do |personal_social_name, personal_social_url| %>
                      <% next if personal_social_url.empty? %>
                      <div class="form-group">
                        <div class="custom-control custom-checkbox">
                          <%= social_media.check_box personal_social_name, {class: "custom-control-input", id: "#{personal_social_name}"}, "#{personal_social_url}" %>
                          <%= social_media.label :personal_social_url, "#{personal_social_name}: #{personal_social_url}", class: "custom-control-label", for: "#{personal_social_name}" %>
                        </div>
                      </div>
                    <% end %>
                  <% end %>
                <% end %>
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <h3>Company info</h3>
              </div>
            </div>
            <%= fields_for :current_user do |company_info| %>
            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <%= company_info.label :company_name %>
                  <%= company_info.text_field :company_name, class: "form-control", placeholder: "Company name" %>
                </div>
              </div>
            </div>
            <% end %>


            <%= booking.submit class: "btn btn-primary", role: "button" %>
          <% end %>

        </div>
      </div>
    </div>
  </section>
</main>
